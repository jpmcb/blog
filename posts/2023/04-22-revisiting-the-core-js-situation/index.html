<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Revisiting the Core-JS Situation | John McBride</title>
<meta name=keywords content><meta name=description content="Weeks ago, Denis Pushkarev, the author of core-js, published “So, what’s next?”.
While a long and lengthy stream of consciousness on the state of the project, I
believe it is something that anyone and everyone who interacts with open source
software should read. It chronicles an emotional tale of his passion project,
distrust & hate for him, his seemingly selfless solitary quest for a better web,
and a plea for financial assistance."><meta name=author content><link rel=canonical href=https://johncodes.com/posts/2023/04-22-revisiting-the-core-js-situation/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://johncodes.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://johncodes.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://johncodes.com/favicon-32x32.png><link rel=apple-touch-icon href=https://johncodes.com/apple-touch-icon.png><link rel=mask-icon href=https://johncodes.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://johncodes.com/posts/2023/04-22-revisiting-the-core-js-situation/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Revisiting the Core-JS Situation"><meta property="og:description" content="Weeks ago, Denis Pushkarev, the author of core-js, published “So, what’s next?”.
While a long and lengthy stream of consciousness on the state of the project, I
believe it is something that anyone and everyone who interacts with open source
software should read. It chronicles an emotional tale of his passion project,
distrust & hate for him, his seemingly selfless solitary quest for a better web,
and a plea for financial assistance."><meta property="og:type" content="article"><meta property="og:url" content="https://johncodes.com/posts/2023/04-22-revisiting-the-core-js-situation/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-04-22T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-22T00:00:00+00:00"><meta property="og:site_name" content="John-McBride"><meta name=twitter:card content="summary"><meta name=twitter:title content="Revisiting the Core-JS Situation"><meta name=twitter:description content="Weeks ago, Denis Pushkarev, the author of core-js, published “So, what’s next?”.
While a long and lengthy stream of consciousness on the state of the project, I
believe it is something that anyone and everyone who interacts with open source
software should read. It chronicles an emotional tale of his passion project,
distrust & hate for him, his seemingly selfless solitary quest for a better web,
and a plea for financial assistance."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://johncodes.com/posts/"},{"@type":"ListItem","position":2,"name":"Revisiting the Core-JS Situation","item":"https://johncodes.com/posts/2023/04-22-revisiting-the-core-js-situation/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Revisiting the Core-JS Situation","name":"Revisiting the Core-JS Situation","description":"Weeks ago, Denis Pushkarev, the author of core-js, published “So, what’s next?”. While a long and lengthy stream of consciousness on the state of the project, I believe it is something that anyone and everyone who interacts with open source software should read. It chronicles an emotional tale of his passion project, distrust \u0026amp; hate for him, his seemingly selfless solitary quest for a better web, and a plea for financial assistance.\n","keywords":[],"articleBody":"Weeks ago, Denis Pushkarev, the author of core-js, published “So, what’s next?”. While a long and lengthy stream of consciousness on the state of the project, I believe it is something that anyone and everyone who interacts with open source software should read. It chronicles an emotional tale of his passion project, distrust \u0026 hate for him, his seemingly selfless solitary quest for a better web, and a plea for financial assistance.\nThe post rightfully went viral and donations started flowing in.\nHowever, boiling just under the surface, much like any other large open source project with a solo developer, there are some real and scary implications to this entire situation.\nBut first, what is core-js?\nAfter all, the project is at the center of this discussion, so it’s worth understanding it deeply. Core-js is a JavaScript library that focuses on providing cutting edge web APIs, standardization, and “polyfills”. At the time of this writing, it has over 50 thousand dependent projects and some 40 million downloads weekly on NPM, a popular JavaScript module hosting service.\nIn short, it’s the JavaScript glue for web applications.\nIt enables modern JavaScript to work on an array of different browsers, including Internet Explorer. And it constantly tracks the latest web standards. This way, JavaScript developers can take advantage of the latest and greatest ECMAScript standards, ensuring interoperability of web pages and applications across different browser platforms. Things like collections, iterators, and promises can simply and easily be used through the core-js polyfills. All without having to re-invent the wheel and worry about broken builds across the many different browsers and JavaScript interpreters.\nLike any project that attempts to implement a “standard”, this also means that it’s a “living” project; without constant update, which usually requires interplay with the upstream browsers and web-standard-setters, core-js would quickly fall apart. One small change in a web browser’s JavaScript interpreter without an update to core-js could mean a whole swath of web applications stop working and break.\nAnd for years, the project has existed in the depths of front-end dependencies, where Denis worked tirelessly. Many projects consumed core-js, usually not directly, but rather, somewhere in the nether of the NPM dependency hellscape. Its code, at least indirectly through dependency poisoning, is used almost everywhere. Massive multi-billion dollar companies like Apple, Amazon, Netflix, and many more have it embedded somewhere in their front-end dependency chains.\nTo say the least, it’s a really important project used by nearly every front-end.\nSo when did the trouble start? Around 2018, if you tried to NPM install core-js (or a project that depended on core-js), you would be greeted with the following message after the installation:\nThank you for using core-js for polyfilling JavaScript standard library! The project needs your help! Please consider supporting of core-js on Open Collective or Patreon ... Also, the author of core-js is looking for a good job While, admittedly, this was a fairly unconventional way to ask for support, it was a heartfelt attempt by the author to find financial means for a project he believed was worth all his time. Many in the JavaScript community did not respond well. So much so that “the author of some library is looking for a good job” sort of became a meme unto itself.\nAt this point, many in the JavaScript, front-end open source community should have looked a little closer and seen the potential disastrous future incoming; the author was in financial trouble (“the project needs your help!”) and the author was taking extreme measures to find any financial support (by adding a very unconventional message embedded within a post-install script. But instead of responding accordingly by financially supporting the project, adding additional maintainers, forking the project, or moving it to a foundation, the broader JavaScript open source community instead turned to slander and hate; Denis received numerous distasteful comments in the core-js repository, via email, and everywhere else he had a presence online.\nIn 2019, as a response to a growing number of projects using the post-install-script as a way to raise funds and advertise their commercial product, NPM made the unilateral decision to ban post install console output that included “ads”. This impacted core-js and removed Denis’s plea for support.\nHis response:\nIf NPM will ban the postinstall message, it will be moved to browsers console. If NPM will ban core-js - it will cause problems for millions of users. I warned about it.\nAnd what was that warning?\nIf for some reason will be disabled ability to publish packages with this message - we will have one more left-pad-like problem, but much more serious. And after that 2 options - or core-js will not be maintained completely, or it will be maintained as a commercial-only project.\nYes, I am ready to kill it as a free open source project, if it will be required by the protection of my rights.\nThrough these warnings that attempted to appear genuine on the surface but really, were just thinly veiled threats, Denis was making it clear to anyone looking closely enough that he was more than ok nuking the project out of existence (or at least, hard pivoting it to a commercial product).\nBut what is left-pad?\nAnd what does it have to do with core-js anyways?\nLeft-pad was a very small JavaScript library authored by Azer Koçulu. It was only 11 lines of code long and added additional white space to the beginning of a string (or in other words, it would “pad” the left side of a string).\nAnd much like core-js, it was also distributed through NPM (I’m seeing a common theme here …). After a legal dispute with NPM over the name of Azer’s package “kik” (a different side project which happened to also be the name of a popular messaging app), Azer removed all of his packages from NPM. Suddenly, in one fell swoop, across the world, JavaScript developers started seeing errors when building their projects:\nnpm ERR! 404 ‘left-pad’ is not in the npm registry. Almost no one knew what the “left-pad” module was or what it did. And it didn’t even really matter. Somehow, through the swamp of NPM dependency chains, left-pad had become a project with 10s of millions of downloads a week and thousands of dependent projects. Azer effectively “broke the internet” by removing his packages that happened to be used across many other packages (and those packages used by other packages, so on and so forth).\nSome time latter, in emails that were widely published, Azer wrote:\nI want all my modules to be deleted including my account, along with this package. I don’t wanna be a part of NPM anymore. If you don’t do it, let me know how do it quickly.\nI think I have the right of deleting all my stuff from NPM.\nYes, it is well within the rights of a package owner to remove their packages from the NPM registry. They are, after all, just pieces of open source software, freely distributed with no contract to their working order; often a fact that corporate consumers of open source software forget.\nBy invoking the name of “left-pad”, Denis insinuates that he has considered following in Azer’s footsteps and doing the same. Although, the impact would likely be far greater.\nWhat about commercialization? Instead of completely obliterate the project, why not start selling licenses for it? Or somehow turn it into a product.\nI find this unlikely. If Denis, a Russian national, commercialized the library over night, it would essentially have the same effect as deleting it: core-js is used by thousands of large businesses around the world, and if they suddenly had a Russian corporate dependency (where there are currently many sanctions, including against “advanced technologies”), this would force drastic action to remove core-js from any and all front end dependencies. More likely than not, NPM themselves would remove the package if this hard pivot was made. If I had to guess, this is why Denis has not yet attempted to commercialize core-js; it would destroy a library he is passionate about without providing him the financial windfall he desires. A lose, lose situation.\nBut this is a sort of “Tale of Two Cities” - despite the clear and present danger the project was in and regardless of veiled threats leveraged against the community by its sole maintainer, JavaScript developers disregarded this risk, big businesses consumed it as a deeply integrated dependency, and everyone increased their usage of the library, ignoring a potentially worsening situation.\nAnd, unfortunately, things did get worse.\nSometime in 2019-2020, Denis found himself in prison. And the core-js project went dark. Many found themselves asking “What happened?”, “What’s the state of this project?”, and “Is there any governance?”:\nThe JavaScript community should be a bit concerned because @zloirock looks like to be the “only” maintainer. Does somebody else have admin privileges to write on this repo? Publish on npm and make this project not to die?\nCompounding a risky situation, Denis had made himself the sole maintainer of the GitHub repository, despite frequent requests to donate the project to a foundation or to add others with administrative privileges. At the time, and still to this day, he had no interest in giving up authority over the project. This means that during the time of Denis’s absence, there were no changes. No security fixes. No new features. No commits to the main branch.\nThe project, for all intents and purposes, was dead.\nYet, still, the open source community and many multi-billion dollar companies did nothing. They didn’t attempt to mitigate the risk of using this critical, solo maintainer project and no alternatives emerged. Funny enough, at the time, the usage actually increased, by some estimates, to over 25 million downloads a week.\nIn the lifecycle of “important” projects, once they die or their sole maintainer abandons them, usually a prominent fork emerges from within the community:\nBabel maintainer here 👋 We are probably not going to fork core-js because we don’t have enough resources to maintain it.\nUnfortunately, despite many requests, one of the most qualified JavaScript organizations in the entire ecosystem, Babel, who had worked closely with Denis and core-js in the past, would not take the onerous of protecting their secure software supply-chain by forking core-js. Either because core-js was too complicated, they truly didn’t have allocations, or there was existing bad blood with the project, no useful alternative to core-js emerged.\nAnd unfortunately, at the point when a critical, solo-maintainer, open source project becomes so complex and so intertwined with the foundation of your product, you’ve effectively “lost”. When it becomes impossible to fork, maintain, or contribute back to the upstream project, you’ve effectively entered a deadlock hostage situation. Providing community support becomes impossible, yet, your software’s well-being is now directly linked to a solo maintainer who’s incentives are completely out of your control. One day on their own volition, they may up and abandon the project, leaving you the impossible task of picking up all the pieces.\nAt this point, major JavaScript organizations like NPM or the V8 engine team at Google should have recognized the problem, stepped in, forked the project into an organization with a community, and enabled people to start contributing back.\nBut Denis has never wanted to give up core-js to the community - he’s fought back on allowing others to have administrative privileges, he doesn’t enable others to make large meaningful contributions, and he won’t share the burden of shepherding an important project. He’s only ever seen two potential futures for core-js; make enough money (through donations or a job) to work on core-js full time or let it die. Any requests from Denis for outside contributions are general asks to report issues, improve testing, and write better documentation.\nIf I had to criticize Denis for something, it would be this deliberate decision to castrate his open source community. The overwhelming majority of the over 5,000 commits to the repository are exclusively from Denis, mostly committed directly to the main branch; no pull requests, no discussion, no feedback, just straight to the mainline. And a great open source leader should eventually evolve beyond making code contributions; they should be effectively delegating tasks to the community, grooming the backlog, discussing proposals with community members, creating safegaurds to ensure the safety \u0026 security of the software assets, and guiding the general direction of everything. Core-js never evolved past a simple pet project. Yet, to this day, the JavaScript ecosystem treats core-js like it’s a well maintained project with the support of an entire community. In reality, it’s one person with all the power making all the decisions and pushing all the changes.\nThis, finally, brings us to this week: Denis is out of prison. He appears to be in insurmountable debt to some Russian authority. And he publishes his call for financial assistance directly to the core-js README. It’s a harrowing story. A story that I believe it, fills me with sympathy but also scares me.\nDenis ends his writing with the following, quoted at length for brevity:\nThis was the last attempt to keep core-js as a free open-source project with a proper quality and functionality level. It was the last attempt to convey that there are real people on the other side of open-source with families to feed and problems to solve.\nIf you or your company use core-js in one way or another and are interested in the quality of your supply chain, support the project\nAgain, his final statement:\nIf your company uses core-js and are interested in the quality of your supply chain, support the project\nis not the crescendo of someone asking for help. This is, like before, a thinly veiled threat. And this time, it’s a threat against the security of the JavaScript supply chain at large.\nIf you know anything about me, you know that the secure software supply-chain is a topic I am deeply passionate about. I believe it is the most important technological hurdle of our modern area and I believe is at incredible risk. There are many avenues to disastrous supply chain attacks, but widely used projects that have solo maintainers are probably the largest and most blatant risk of them all. They’re sort of like unicorns, difficult to believe they’re real, but here we see one; a solo maintainer project that Amazon, Netflix, Apple, LinkedIn, PayPal, Binance, and tens of thousands of others have a dependency on.\nWorse yet, through Denis’s own words, we can now clearly see the massive financial trouble he is in:\nI received financial claims totaling about 80 thousand dollars at the exchange rate at that time from “victims’” relatives. A significant amount of money was also needed for a lawyer.\nAnd for a solo maintainer who has administrative, force push powers on a very complex, very popular software library, that few other people understand, his claims are a troubling reality. In the worst case, he could easily embed a malicious piece of code deep in the commit log and publish a new package to NPM for his financial gain. But more realistically, I worry for his safety; someone with crushing debt who presides over an incredibly valuable technological resource with little oversight is a prime target for state-sponsored hacker groups.\nIronically, to this day, many well respected security and supply-chain companies would call core-js “healthy”. Snyk, a developer security platform company, gives core-js a score of 94/100 noting it’s “Popularity” rating as a “Key Ecosystem Project” and its “Maintenance” rating as “Healthy”. I personally find this surprising given the years of solo maintainership of core-js, refusals by that sole maintainer to donate the project to a reputable organization, where that solo maintainer disappeared for well over a year, where threats of extinguishing the project were levied against the community, and where financial problems have been a reoccurring theme since the project’s conception.\nStill, potentially worse, are the thousands of massive companies that saw no problem freely commercializing Dnnis’s work despite the clear call for help. Again, this is a sort of “Tale of Two Cities”: Denis should be criticized for how he’s handled the open source community around his project but the software industry should be equally ashamed of how they’ve turned their back on this maintainer and their own software stability.\n“This all sounds bad. What do I do?” Here are my recommendations for consumers of core-js:\nMake a financial contribution - To start with, show Denis your support for the solo work he’s done on core-js and the incredible functionality he’s brought to the web. It’s the least we, as a software ecosystem, can do.\nPin your core-js dependency - While not a long term solution, pinning your dependency will keep you from consuming potentially malicious upstream changes that get made to new versions of core-js. Generally, it’s not a great idea to blindly take every new package or track “latest”. You should attempt to independently verify critical projects and packages you consume, pinning to the ones that pass your screening.\nCache versions of core-js you do rely on - In general, it is a mistake to blindly take dependencies from upstream package registries. In other words, you should never install an NPM package directly to your production environment. You may find yourself in a “left-pad” situation where a module owner one day decides to remove that package from the face of the earth. Or worse, where the package owner publishes a new malicious package under the same version that flows down to consumers. Those packages should, instead, be installed through a cache that you and your security team have independently created, validated, and control. Yes, this is another service you’d be running internally, but it’s well worth the cost in order to mitigate an entire class of supply chain attacks.\nRaise this concern with your CISO - Chief Information Security Officers are tasked with tracking, monitoring, and assessing the risk to all security vectors your company may be vulnerable to. It’s clear that Denis is in financial trouble. That, compounded with the fact that he has admin access to force push onto the main branch and unilaterally publish new packages, should be concerning. Work with your security team and CISO to determine the threat level of this risk and what impact it has on your code bases.\nGet involved with the project - I’ve generally advocated for this in the past. And while core-js appears to be a difficult project to get involved with, there are still issues on GitHub you can raise, a few pull-requests to be commented on, and the commit log to be validated. If it’s a critical project to your company, spend the time, money, and engineering resources to protect your companies assets by getting involved.\nFind a reputable alternative and move to it - This is the best long term solution. But would require significant engineering resources.\nA quick note on making a financial contribution - by donating, you are not supporting a project. You are not providing funds to a well defined organization. And you are not entitled to technical support. You are simply bank-rolling an individual. An individual who has brought massively useful usability features to the web and JavaScript developers. Someone who needs help. Someone who, at will, on their own volition, may abandon the project, inject malicious commits deep into the commit log, or outright sell their GitHub account to nefarious third parties. And for a massively critical project like core-js, this is a terrifying solution to propose: “just pay him and forget about it” won’t fix the problem in the long term and will never scale. If anything, it may exacerbate the problem by enabling a single, solo developer to keep working on a critical piece of web infrastructure by themselves. In that scenario, the bus factor is still 100%; Dennis working on the project alone means that at any time, he could disappear again and leave the project to rot.\nIf you’ve read this far, I hope you understand why I am worried for core-js’s future. And yet, I am also sympathetic to Denis’s plea. Commercialization of free and open software by large, multi-billion dollar companies has gone unchecked for decades. Denis worked tirelessly for years to provide what he believed to be a good solution to a massive problem on the web. And the ecosystem took advantage of that, using his project with little recognition. While I disagree with and criticize some of his decisions, in the end, it is his project, it’s just gotten out of control and is used everywhere. He has every right to do with it what he wants.\nBut that’s also the beauty of open source software. Denis could completely disappear tomorrow and there would be zero real world consequence to him doing that; most open source licenses indicate that the software is provided “as is” with no support, no contract, and no assurance of its good working order.\nIt also means that anyone can fork the project and maintain it themselves. If there’s anyone to be ashamed of, it’s the JavaScript open source ecosystem that perpetuated an increasingly bad situation for too long.\nNow is the time to step up. Now is the time to support Denis. Now is the time to fork core-js. Now is the time to prevent another “left-pad-like problem”.\n","wordCount":"3568","inLanguage":"en","datePublished":"2023-04-22T00:00:00Z","dateModified":"2023-04-22T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://johncodes.com/posts/2023/04-22-revisiting-the-core-js-situation/"},"publisher":{"@type":"Organization","name":"John McBride","logo":{"@type":"ImageObject","url":"https://johncodes.com/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://johncodes.com/ accesskey=h title="John McBride (Alt + H)">John McBride</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://johncodes.com/archives title=Writing><span>Writing</span></a></li><li><a href=https://johncodes.com/index.xml title=RSS><span>RSS</span></a></li><li><a href=https://johncodes.com/talks/ title=Talks><span>Talks</span></a></li><li><a href=https://johncodes.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://johncodes.com/about title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Revisiting the Core-JS Situation</h1><div class=post-meta><span title='2023-04-22 00:00:00 +0000 UTC'>April 22, 2023</span></div></header><div class=post-content><p>Weeks ago, Denis Pushkarev, the author of core-js, published <a href=https://github.com/zloirock/core-js/issues/1179>“So, what’s next?”</a>.
While a long and lengthy stream of consciousness on the state of the project, I
believe it is something that anyone and everyone who interacts with open source
software should read. It chronicles an emotional tale of his passion project,
distrust & hate for him, his seemingly selfless solitary quest for a better web,
and a plea for financial assistance.</p><p><a href=https://www.reddit.com/r/programming/comments/111k9aq/corejs_maintainer_so_whats_next/>The post rightfully went viral</a>
and <a href=https://www.patreon.com/zloirock>donations started flowing in</a>.</p><p>However, boiling just under the surface, much like any other large open source
project with a solo developer, there are some real and scary implications to
this entire situation.</p><p><em>But first, what is core-js?</em></p><p>After all, the project is at the center of this discussion, so it’s worth
understanding it deeply. Core-js is a JavaScript library that focuses on
providing cutting edge web APIs, standardization, and <em>“polyfills”</em>. At the time
of this writing, it has over 50 thousand dependent projects and some 40 million
downloads <em>weekly</em> on NPM, a popular JavaScript module hosting service.</p><p>In short, it’s <em>the</em> JavaScript glue for web applications.</p><p>It enables modern JavaScript to work on an array of different browsers,
including Internet Explorer. And it constantly tracks the latest web standards.
This way, JavaScript developers can take advantage of the latest and greatest
ECMAScript standards, ensuring interoperability of web pages and applications
across different browser platforms. Things like collections, iterators, and
promises can simply and easily be used through the core-js polyfills. All
without having to re-invent the wheel and worry about broken builds across the
many different browsers and JavaScript interpreters.</p><p>Like any project that attempts to implement a “standard”, this also means that
it’s a “living” project; without constant update, which usually requires
interplay with the upstream browsers and web-standard-setters, core-js would
quickly fall apart. One small change in a web browser’s JavaScript interpreter
without an update to core-js could mean a whole swath of web applications stop
working and break.</p><p>And for years, the project has existed in the depths of front-end dependencies,
where Denis worked tirelessly. Many projects consumed core-js, usually not
directly, but rather, somewhere in the nether of the NPM dependency hellscape.
Its code, at least indirectly through dependency poisoning, is used almost
everywhere. Massive multi-billion dollar companies like Apple, Amazon, Netflix,
and many more have it embedded somewhere in their front-end dependency chains.</p><p>To say the least, it’s a really important project used by nearly every
front-end.</p><p>So when did the trouble start? Around 2018, if you tried to NPM install core-js
(or a project that depended on core-js), you would be greeted with the following
message after the installation:</p><pre tabindex=0><code>Thank you for using core-js for polyfilling JavaScript standard library!

The project needs your help! Please consider supporting of core-js on Open
Collective or Patreon ...

Also, the author of core-js is looking for a good job
</code></pre><p>While, admittedly, this was a fairly unconventional way to ask for support, it
was a heartfelt attempt by the author to find financial means for a project he
believed was worth all his time. Many in the JavaScript community did not
<a href=https://github.com/zloirock/core-js/issues/548>respond well</a>.
So much so that
<em>“the author of some library is looking for a good job”</em>
<a href=https://github.com/zloirock/core-js/issues/708>sort of became a meme unto itself</a>.</p><p>At this point, many in the JavaScript, front-end open source community should
have looked a little closer and seen the potential disastrous future incoming;
the author was in financial trouble (“the project needs your help!”) and the
author was taking extreme measures to find any financial support (by adding a
very unconventional message embedded <a href=https://github.com/zloirock/core-js/blob/381c366b8cdc84050bb0ef7184a6e80f45bf5903/packages/core-js/scripts/postinstall.js>within a post-install script</a>.
But instead
of responding accordingly by financially supporting the project, adding
additional maintainers, forking the project, or moving it to a foundation, the
broader JavaScript open source community instead turned to slander and hate;
Denis received numerous distasteful comments in the core-js repository, via
email, and everywhere else he had a presence online.</p><p>In 2019, as a response to a growing number of projects using the
post-install-script as a way to raise funds and advertise their commercial
product, NPM made the unilateral decision to
<a href=https://github.com/zloirock/core-js/issues/635>ban post install console output that included “ads”</a>.
This impacted core-js and removed Denis’s plea for support.</p><p>His response:</p><blockquote><p>If NPM will ban the postinstall message, it will be moved to browsers console.
If NPM will ban core-js - it will cause problems for millions of users. I warned
about it.</p></blockquote><p><a href=https://github.com/zloirock/core-js/issues/548#issuecomment-510684777><em>And what was that warning?</em></a></p><blockquote><p>If for some reason will be disabled ability to publish packages with this
message - we will have one more left-pad-like problem, but much more serious.
And after that 2 options - or core-js will not be maintained completely, or it
will be maintained as a commercial-only project.</p></blockquote><blockquote><p>Yes, I am ready to kill it as a free open source project, if it will be required
by the protection of my rights.</p></blockquote><p>Through these warnings that attempted to appear genuine on the surface but
really, were just thinly veiled threats, Denis was making it clear to anyone
looking closely enough that he was more than ok nuking the project out of
existence (or at least, hard pivoting it to a commercial product).</p><p><em>But what is left-pad?</em></p><p>And what does it have to do with core-js anyways?</p><p>Left-pad was a very small JavaScript library authored by Azer Koçulu. It was
only 11 lines of code long and added additional white space to the beginning of
a string (or in other words, it would “pad” the left side of a string).</p><p>And much like core-js, it was also distributed through NPM
<em>(I’m seeing a common theme here …)</em>. After a legal dispute with NPM over the name of Azer’s package
“kik” (a different side project which happened to also be the name of a popular
messaging app), Azer removed all of his packages from NPM. Suddenly, in one fell
swoop, across the world, JavaScript developers started seeing errors when
building their projects:</p><pre tabindex=0><code>npm ERR! 404 ‘left-pad’ is not in the npm registry.
</code></pre><p>Almost no one knew what the “left-pad” module was or what it did. And it didn’t
even really matter. Somehow, through the swamp of NPM dependency chains,
left-pad had become a project with 10s of millions of downloads a week and
thousands of dependent projects. Azer effectively “broke the internet” by
removing his packages that happened to be used across many other packages (and
those packages used by other packages, so on and so forth).</p><p>Some time latter, <a href=https://arstechnica.com/information-technology/2016/03/rage-quit-coder-unpublished-17-lines-of-javascript-and-broke-the-internet/>in emails that were widely published</a>, Azer wrote:</p><blockquote><p>I want all my modules to be deleted including my account, along with this
package. I don’t wanna be a part of NPM anymore. If you don’t do it, let me know
how do it quickly.</p></blockquote><blockquote><p>I think I have the right of deleting all my stuff from NPM.</p></blockquote><p>Yes, it is well within the rights of a package owner to remove their packages
from the NPM registry. They are, after all, just pieces of open source software,
freely distributed with no contract to their working order; often a fact that
corporate consumers of open source software forget.</p><p>By invoking the name of “left-pad”, Denis insinuates that he has considered
following in Azer’s footsteps and doing the same. Although, the impact would
likely be far greater.</p><p><em>What about commercialization?</em> Instead of completely obliterate the project, why
not start selling licenses for it? Or somehow turn it into a product.</p><p>I find this unlikely. If Denis, a Russian national, commercialized the library
over night, it would essentially have the same effect as deleting it: core-js is
used by thousands of large businesses around the world, and if they suddenly had
a Russian corporate dependency
(<a href=https://www.state.gov/the-impact-of-sanctions-and-export-controls-on-the-russian-federation/>where there are currently many sanctions, including against “advanced technologies”</a>),
this would force drastic action to
remove core-js from any and all front end dependencies. More likely than not,
NPM themselves would remove the package if this hard pivot was made. If I had to
guess, this is why Denis has not yet attempted to commercialize core-js; it
would destroy a library he is passionate about without providing him the
financial windfall he desires. A lose, lose situation.</p><p>But this is a sort of <em>“Tale of Two Cities”</em> - despite the clear and present
danger the project was in and regardless of veiled threats leveraged against the
community by its sole maintainer, JavaScript developers disregarded this risk,
big businesses consumed it as a deeply integrated dependency, and everyone
increased their usage of the library, ignoring a potentially worsening
situation.</p><p>And, unfortunately, things did get worse.</p><p>Sometime in 2019-2020, Denis found himself in prison. And the core-js project
went dark.
<a href=https://github.com/zloirock/core-js/issues/767>Many found themselves asking <em>“What happened?”</em></a>,
<em>“What’s the state of this project?”</em>, and <em>“Is there any governance?”</em>:</p><blockquote><p>The JavaScript community should be a bit concerned because @zloirock looks like
to be the “only” maintainer. Does somebody else have admin privileges to write
on this repo? Publish on npm and make this project not to die?</p></blockquote><p>Compounding a risky situation, Denis had made himself the sole maintainer of the
GitHub repository, despite frequent requests to donate the project to a
foundation or to add others with administrative privileges. At the time, and
still to this day, he had no interest in giving up authority over the project.
This means that during the time of Denis’s absence, there were no changes. No
security fixes. No new features. No commits to the main branch.</p><p>The project, for all intents and purposes, was dead.</p><p>Yet, still, the open source community and many multi-billion dollar companies
did nothing. They didn’t attempt to mitigate the risk of using this critical,
solo maintainer project and no alternatives emerged. Funny enough, at the time,
the usage actually increased, by some estimates, to over 25 million downloads a
week.</p><p>In the lifecycle of “important” projects, once they die or their sole maintainer
abandons them,
<a href=https://github.com/ryanelian/ts-polyfill/issues/4#issuecomment-599227863>usually a prominent fork emerges from within the community</a>:</p><blockquote><p>Babel maintainer here 👋 We are probably not going to fork core-js because we
don’t have enough resources to maintain it.</p></blockquote><p>Unfortunately, despite many requests, one of the most qualified JavaScript
organizations in the entire ecosystem, Babel, who had worked closely with Denis
and core-js in the past, would not take the onerous of protecting their secure
software supply-chain by forking core-js. Either because core-js was too
complicated, they truly didn’t have allocations, or there was existing bad blood
with the project, no useful alternative to core-js emerged.</p><p>And unfortunately, at the point when a critical, solo-maintainer, open source
project becomes so complex and so intertwined with the foundation of your
product, you’ve effectively “lost”. When it becomes impossible to fork,
maintain, or contribute back to the upstream project, you’ve effectively entered
a deadlock hostage situation. Providing community support becomes impossible,
yet, your software’s well-being is now directly linked to a solo maintainer
who’s incentives are completely out of your control. One day on their own
volition, they may up and abandon the project, leaving you the impossible task
of picking up all the pieces.</p><p>At this point, major JavaScript organizations like NPM or the V8 engine team at
Google should have recognized the problem, stepped in, forked the project into
an organization with a community, and enabled people to start contributing back.</p><p>But Denis has never wanted to give up core-js to the community - he’s fought
back on allowing others to have administrative privileges, he doesn’t enable
others to make large meaningful contributions, and he won’t share the burden of
shepherding an important project.
<a href=https://github.com/zloirock/core-js/issues/139>He’s only ever seen two potential futures for core-js</a>;
make enough money (through donations or a job) to work on core-js full
time or let it die. Any requests from Denis for outside contributions are
general asks to report issues, improve testing, and write better documentation.</p><p>If I had to criticize Denis for something, it would be this deliberate decision
to castrate his open source community. The overwhelming majority of the over
5,000 commits to the repository are exclusively from Denis, mostly committed
directly to the main branch; no pull requests, no discussion, no feedback, just
straight to the mainline. And a great open source leader should eventually
evolve beyond making code contributions; they should be effectively delegating
tasks to the community, grooming the backlog, discussing proposals with
community members, creating safegaurds to ensure the safety & security of the
software assets, and guiding the general direction of everything. Core-js never
evolved past a simple pet project. Yet, to this day, the JavaScript ecosystem
treats core-js like it’s a well maintained project with the support of an entire
community. In reality, it’s one person with all the power making all the
decisions and pushing all the changes.</p><p>This, finally, brings us to this week: Denis is out of prison. He appears to be
in insurmountable debt to some Russian authority. And he publishes his call for
financial assistance
<a href=https://github.com/zloirock/core-js>directly to the core-js README</a>.
It’s a harrowing story. A
story that I believe it, fills me with sympathy but also scares me.</p><p>Denis ends his writing with the following, quoted at length for brevity:</p><blockquote><p>This was the last attempt to keep core-js as a free open-source project with a
proper quality and functionality level. It was the last attempt to convey that
there are real people on the other side of open-source with families to feed and
problems to solve.</p></blockquote><blockquote><p>If you or your company use core-js in one way or another and are interested in
the quality of your supply chain, support the project</p></blockquote><p><em>Again, his final statement:</em></p><blockquote><p>If your company uses core-js and are interested in the quality of your supply
chain, support the project</p></blockquote><p>is not the crescendo of someone asking for help. This is, like before, a thinly
veiled threat. And this time, it’s a threat against the security of the
JavaScript supply chain at large.</p><p>If you know anything about me, you know that the secure software supply-chain is
a topic I am deeply passionate about. I believe it is the most important
technological hurdle of our modern area and I believe is at incredible risk.
There are many avenues to disastrous supply chain attacks, but widely used
projects that have solo maintainers are probably the largest and most blatant
risk of them all. They’re sort of like unicorns, difficult to believe they’re
real, but here we see one; a solo maintainer project that Amazon, Netflix,
Apple, LinkedIn, PayPal, Binance, and tens of thousands of others have a
dependency on.</p><p>Worse yet, <a href=https://github.com/zloirock/core-js/blob/master/docs/2023-02-14-so-whats-next.md#accident>through Denis’s own words</a>,
we can now clearly see the massive financial trouble he is in:</p><blockquote><p>I received financial claims totaling about 80 thousand dollars at the exchange
rate at that time from “victims’” relatives. A significant amount of money was
also needed for a lawyer.</p></blockquote><p>And for a solo maintainer who has administrative, force push powers on a very
complex, very popular software library, that few other people understand, his
claims are a troubling reality. In the worst case, he could easily embed a
malicious piece of code deep in the commit log and publish a new package to NPM
for his financial gain. But more realistically, I worry for his safety; someone
with crushing debt who presides over an incredibly valuable technological
resource with little oversight is a prime target for state-sponsored hacker
groups.</p><p>Ironically, to this day, many well respected security and supply-chain companies
would call core-js “healthy”. Snyk, a developer security platform company,
<a href=https://snyk.io/advisor/npm-package/core-js>gives core-js a score of 94/100</a>
noting it’s “Popularity” rating as a “Key Ecosystem
Project” and its “Maintenance” rating as “Healthy”. I personally find this
surprising given the years of solo maintainership of core-js, refusals by that
sole maintainer to donate the project to a reputable organization, where that
solo maintainer disappeared for well over a year, where threats of extinguishing
the project were levied against the community, and where financial problems have
been a reoccurring theme since the project’s conception.</p><p>Still, potentially worse, are the thousands of massive companies that saw no
problem freely commercializing Dnnis’s work despite the clear call for help.
Again, this is a sort of <em>“Tale of Two Cities”</em>: Denis should be criticized for
how he’s handled the open source community around his project but the software
industry should be equally ashamed of how they’ve turned their back on this
maintainer and their own software stability.</p><p><em>“This all sounds bad. What do I do?”</em> Here are my recommendations for consumers
of core-js:</p><ul><li><p>Make a financial contribution - To start with, show Denis your support for the
solo work he’s done on core-js and the incredible functionality he’s brought to
the web. It’s the least we, as a software ecosystem, can do.</p></li><li><p>Pin your core-js dependency - While not a long term solution, pinning your
dependency will keep you from consuming potentially malicious upstream changes
that get made to new versions of core-js. Generally, it’s not a great idea to
blindly take every new package or track “latest”. You should attempt to
independently verify critical projects and packages you consume, pinning to the
ones that pass your screening.</p></li><li><p>Cache versions of core-js you do rely on - In general, it is a mistake to
blindly take dependencies from upstream package registries. In other words, you
should never install an NPM package directly to your production environment. You
may find yourself in a “left-pad” situation where a module owner one day decides
to remove that package from the face of the earth. Or worse, where the package
owner publishes a new malicious package under the same version that flows down
to consumers. Those packages should, instead, be installed through a cache that
you and your security team have independently created, validated, and control.
Yes, this is another service you’d be running internally, but it’s well worth
the cost in order to mitigate an entire class of supply chain attacks.</p></li><li><p>Raise this concern with your CISO - Chief Information Security Officers are
tasked with tracking, monitoring, and assessing the risk to all security vectors
your company may be vulnerable to. It’s clear that Denis is in financial
trouble. That, compounded with the fact that he has admin access to force push
onto the main branch and unilaterally publish new packages, should be
concerning. Work with your security team and CISO to determine the threat level
of this risk and what impact it has on your code bases.</p></li><li><p>Get involved with the project - I’ve generally advocated for this in the past.
And while core-js appears to be a difficult project to get involved with, there
are still issues on GitHub you can raise, a few pull-requests to be commented
on, and the commit log to be validated. If it’s a critical project to your
company, spend the time, money, and engineering resources to protect your
companies assets by getting involved.</p></li><li><p>Find a reputable alternative and move to it - This is the best long term
solution. But would require significant engineering resources.</p></li></ul><p>A quick note on making a financial contribution - by donating, you are not
supporting a project. You are not providing funds to a well defined
organization. And you are not entitled to technical support. You are simply
bank-rolling an individual. An individual who has brought massively useful
usability features to the web and JavaScript developers. Someone who needs help.
Someone who, at will, on their own volition, may abandon the project, inject
malicious commits deep into the commit log, or outright sell their GitHub
account to nefarious third parties. And for a massively critical project like
core-js, this is a terrifying solution to propose: “just pay him and forget
about it” won’t fix the problem in the long term and will never scale. If
anything, it may exacerbate the problem by enabling a single, solo developer to
keep working on a critical piece of web infrastructure by themselves. In that
scenario, <a href=https://en.wikipedia.org/wiki/Bus_factor>the bus factor</a>
is still 100%; Dennis working on the project alone means
that at any time, he could disappear again and leave the project to rot.</p><p>If you’ve read this far, I hope you understand why I am worried for core-js’s
future. And yet, I am also sympathetic to Denis’s plea. Commercialization of
free and open software by large, multi-billion dollar companies has gone
unchecked for decades. Denis worked tirelessly for years to provide what he
believed to be a good solution to a massive problem on the web. And the
ecosystem took advantage of that, using his project with little recognition.
While I disagree with and criticize some of his decisions, in the end, it is his
project, it’s just gotten out of control and is used everywhere. He has every
right to do with it what he wants.</p><p>But that’s also the beauty of open source software. Denis could completely
disappear tomorrow and there would be zero real world consequence to him doing
that; most open source licenses indicate that the software is provided “as is”
with no support, no contract, and no assurance of its good working order.</p><p>It also means that anyone can fork the project and maintain it themselves. If
there’s anyone to be ashamed of, it’s the JavaScript open source ecosystem that
perpetuated an increasingly bad situation for too long.</p><p>Now is the time to step up. Now is the time to support Denis. Now is the time to
fork core-js. Now is the time to prevent another “left-pad-like problem”.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://johncodes.com/>John McBride</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>