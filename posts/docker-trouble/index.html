<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Virtual machine trouble?? Try Docker! | John McBride üë®‚Äçüíª</title><meta name=keywords content>
<meta name=description content="If you are a Oregon State CS 344 student, then you&rsquo;ve been told to develop exclusively on the OS1 server. Unfortunately, this server is frequently nuked by fork bombs. If you are unable to run a full CentOS virtual machine, then here is a step by step guide to getting a CentOS docker container running on your computer. This way, you can continue to work on your assignments in a similar environment to OS1 and not have to have a full virtual machine running!">
<meta name=author content="John McBride">
<link rel=canonical href=johncodes.dev/posts/docker-trouble/>
<link crossorigin=anonymous href=/johncodes.dev/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/johncodes.dev/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=johncodes.dev/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=johncodes.dev/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=johncodes.dev/favicon-32x32.png>
<link rel=apple-touch-icon href=johncodes.dev/apple-touch-icon.png>
<link rel=mask-icon href=johncodes.dev/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Virtual machine trouble?? Try Docker!">
<meta property="og:description" content="If you are a Oregon State CS 344 student, then you&rsquo;ve been told to develop exclusively on the OS1 server. Unfortunately, this server is frequently nuked by fork bombs. If you are unable to run a full CentOS virtual machine, then here is a step by step guide to getting a CentOS docker container running on your computer. This way, you can continue to work on your assignments in a similar environment to OS1 and not have to have a full virtual machine running!">
<meta property="og:type" content="article">
<meta property="og:url" content="johncodes.dev/posts/docker-trouble/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2017-05-13T22:17:04-07:00">
<meta property="article:modified_time" content="2017-05-13T22:17:04-07:00"><meta property="og:site_name" content="John-McBride">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Virtual machine trouble?? Try Docker!">
<meta name=twitter:description content="If you are a Oregon State CS 344 student, then you&rsquo;ve been told to develop exclusively on the OS1 server. Unfortunately, this server is frequently nuked by fork bombs. If you are unable to run a full CentOS virtual machine, then here is a step by step guide to getting a CentOS docker container running on your computer. This way, you can continue to work on your assignments in a similar environment to OS1 and not have to have a full virtual machine running!">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"johncodes.dev/posts/"},{"@type":"ListItem","position":2,"name":"Virtual machine trouble?? Try Docker!","item":"johncodes.dev/posts/docker-trouble/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Virtual machine trouble?? Try Docker!","name":"Virtual machine trouble?? Try Docker!","description":"If you are a Oregon State CS 344 student, then you\u0026rsquo;ve been told to develop exclusively on the OS1 server. Unfortunately, this server is frequently nuked by fork bombs. If you are unable to run a full CentOS virtual machine, then here is a step by step guide to getting a CentOS docker container running on your computer. This way, you can continue to work on your assignments in a similar environment to OS1 and not have to have a full virtual machine running!","keywords":[],"articleBody":"If you are a Oregon State CS 344 student, then you‚Äôve been told to develop exclusively on the OS1 server. Unfortunately, this server is frequently nuked by fork bombs. If you are unable to run a full CentOS virtual machine, then here is a step by step guide to getting a CentOS docker container running on your computer. This way, you can continue to work on your assignments in a similar environment to OS1 and not have to have a full virtual machine running!\nNote: when a ‚Äúhost‚Äù is referenced, this is in regard to your own laptop and your own environment, not any container or virtual machine you might have running.\n1. Get Docker You can download and install Docker at this link\nDocker creates operating system level virtualizations through ‚Äúcontainers‚Äù. It‚Äôs alot like a traditional Virtual Machine, but containers are run through the host system kernel while maintaining their own software libraries and configurations. In short, containers are significantly less expensive as they don‚Äôt have to spin up their own virtual kernels.\n2. Start docker Once you‚Äôve installed Docker, fire it up. It will run in the background and give you access to its command line tools.\n3. Pull the CentOS image Grab the CentOS image with the following command:\ndocker pull centos An image is a template ‚Äúsnapshot‚Äù used to build containers. Images contain the specific configurations and packages that define what a container is.\n4. Start the container docker run -i -t centos This will bring up the CentOS container in interactive mode with the CentOS command line. There are a huge number of flags for running containers, but this is an easy way to directly gain access to the CentOS command line.\nHere is the docker reference for flags and running an image.\n5. Install dev dependencies Because this CentOS image is a bare bone, fresh start, linux distro with nothing on it, you will need to install a few unix dev tools. This can easily be done with the following command:\nyum groupinstall \"Development tools\" To install Vim:\nyum install vim If you find that you‚Äôre missing some tool, try searching online for the install command (make sure to specify CentOS when googling). It is likely a yum command that you‚Äôre looking for.\n6. Place files onto container Using SCP You can pull down your files from a server with this command:\nscp username@access.engr.oregonstate.edu:~/path/to/smallsh.zip /path/to/destination Using Docker cp If you have files on your local host machine that you want on the docker container, you can use the built in docker cp command on your host machine:\ndocker cp path/to/file/testing.txt :/path/to/destination This might look something like this:\ndocker cp path/to/testing.txt wizardly_montalcini:/path/to/target Note: the container needs to be running for this to work!\nTo find the running container name, use the following command on your host machine:\ndocker container ls This will show us something like this. We can find the name on the far right:\nCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 4218f505a811 centos \"/bin/bash\" 2 minutes ago Up 2 minutes wizardly_montalcini 7. Work, Compile, Run Now that you have the container running, installed the development dependencies, and pulled your files, you can proceed normally! Work on your program with vim, compile, and run your executable as you would on OS1.\nHere‚Äôs an example of me doing this on a CentOS docker container\n[root@f30ebeebacde /]# make gcc -Wall -c smallsh.c buffer_io.c utility.c gcc -Wall -o smallsh smallsh.o buffer_io.o utility.o [root@f30ebeebacde /]# ./smallsh :ls README.md buffer_io.c etc lib64 media proc sbin smallsh.c srv usr var anaconda-post.log buffer_io.o home makefile mnt root shelltest smallsh.h sys utility.c bin dev lib mcbridej_smallsh.zip opt run smallsh smallsh.o tmp utility.o :cat README.md # Smallsh Author: John McBride ... 8. Get files off container Once you are ready to get your files back, you can use SCP or the built in docker cp command. These are similar to putting your files onto the container, but with the paths switched.\nUsing SCP scp /path/to/file.txt username@access.engr.oregonstate.edu:~/path/to/target Using docker cp On your local host:\ndocker cp :/file/path/within/container /host/path/destination 9. Using Docker volumes There is a better way to get files on and off your container, but it‚Äôs slightly more complicated. In this example, let‚Äôs mount a file system volume. You can read all about volumes and how they are defined by docker. But the quick and dirty way to get files on to a container from your host when you start docker is as follows:\n$ docker run -it -v \"/host/user/folder/to/mount:/container/destination\" centos Note the new -v flag followed by a full file path mapping. Let‚Äôs break it down. The -v command tells docker to mount a volume. The first part of the path preceding the : defines the source directory in the host‚Äôs filesystem to mount. The path after the : defines the destination inside the container to mount the directory!\nNow, when you poke around the container, the files from the source folder will be in the destination folder. The really cool thing about this is that files are persisted across volumes. Or in other words, if you change a file that‚Äôs been mounted by a volume, it will also be changed on host! This eliminates the need for copy files and folders to and from the container!\nMuch thanks to Nathan for pointing out this tidbit!\n10. Exiting the container You can exit and stop a container in interactive mode with Ctrl d\nYou can detach from a container when in interactive mode with Ctrl p Ctrl q. To re-attach to the container, use the docker attach command:\ndocker attach This would be something like this:\ndocker attach wizardly_montalcini If you need to kill a container, you can use the docker kill command:\ndocker kill Using our example, this would look like this:\ndocker kill wizardly_montalcini Warning! Containers are NOT persistent. Again, they are NOT persistent. Once one is stopped or killed, you will loose everything on it. If you want to keep a container running, just detach from it or make sure to SCP or docker cp your files off the container before you kill it.\nIf you stop a docker container you can bring it back up with the docker run -i -t centos command.\nExtras! This section will serve as some docker extras.\nCentOS Docker Hub The official CentOS Docker image from docker hub - This has some interesting tid-bits about security dependencies and installing updates.\nDockerfiles Starting the container and installing the dev dependencies every single time you start it can be kind of annoying. Thankfully, you can use dockerfiles to automate building containers. Here is a sample dockerfile that will build the centos container and install the dev dependencies for us.\nCMD yum groupinstall \"Development tools\"These can get really complicated. Here is some very useful info on how dockerfiles work, how to use them, and how you can make one that fits your needs.\nHere is the official CentOS dockerfile repository on github.\n","wordCount":"1162","inLanguage":"en","datePublished":"2017-05-13T22:17:04-07:00","dateModified":"2017-05-13T22:17:04-07:00","author":{"@type":"Person","name":"John McBride"},"mainEntityOfPage":{"@type":"WebPage","@id":"johncodes.dev/posts/docker-trouble/"},"publisher":{"@type":"Organization","name":"John McBride üë®‚Äçüíª","logo":{"@type":"ImageObject","url":"johncodes.dev/favicon.ico"}}}</script>
</head><body class=dark id=top>
<script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=johncodes.dev/ accesskey=h title="John McBride üë®‚Äçüíª (Alt + H)">John McBride üë®‚Äçüíª</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div><ul id=menu>
<li>
<a href=johncodes.dev/pgp-key.txt title="PGP Key">
<span>PGP Key</span>
</a>
</li><li>
<a href=johncodes.dev/about title=About>
<span>About</span>
</a>
</li><li>
<a href=johncodes.dev/archives title=Archive>
<span>Archive</span>
</a>
</li><li>
<a href=johncodes.dev/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li></ul></nav></header><main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Virtual machine trouble?? Try Docker!
</h1><div class=post-meta><span title="2017-05-13 22:17:04 -0700 -0700">May 13, 2017</span>&nbsp;¬∑&nbsp;6 min&nbsp;¬∑&nbsp;John McBride&nbsp;|&nbsp;<a href=https://github.com/jpmcb/blog/tree/main/content/posts/docker-trouble.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div></header><div class=post-content><p>If you are a Oregon State CS 344 student, then you&rsquo;ve been told to develop exclusively on the OS1 server. Unfortunately, this server is frequently nuked by fork bombs. If you are unable to run a full CentOS virtual machine, then here is a step by step guide to getting a CentOS docker container running on your computer. This way, you can continue to work on your assignments in a similar environment to OS1 and not have to have a full virtual machine running!</p><p><em><em>Note:</em></em> when a &ldquo;host&rdquo; is referenced, this is in regard to your own laptop and your own environment, not any container or virtual machine you might have running.</p><h3 id=1-get-docker>1. Get Docker<a hidden class=anchor aria-hidden=true href=#1-get-docker>#</a></h3><p>You can <a href=https://www.docker.com/get-started>download and install Docker at this link</a></p><p>Docker creates operating system level virtualizations through &ldquo;containers&rdquo;. It‚Äôs alot like a traditional Virtual Machine, but containers are run through the host system kernel while maintaining their own software libraries and configurations. In short, containers are significantly less expensive as they don&rsquo;t have to spin up their own virtual kernels.</p><h3 id=2-start-docker>2. Start docker<a hidden class=anchor aria-hidden=true href=#2-start-docker>#</a></h3><p>Once you&rsquo;ve installed Docker, fire it up. It will run in the background and give you access to its command line tools.</p><h3 id=3-pull-the-centos-image>3. Pull the CentOS image<a hidden class=anchor aria-hidden=true href=#3-pull-the-centos-image>#</a></h3><p>Grab the CentOS image with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker pull centos
</span></span></code></pre></div><p>An image is a template &ldquo;snapshot&rdquo; used to build containers. Images contain the specific configurations and packages that define what a container is.</p><h3 id=4-start-the-container>4. Start the container<a hidden class=anchor aria-hidden=true href=#4-start-the-container>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker run -i -t centos
</span></span></code></pre></div><p>This will bring up the CentOS container in interactive mode with the CentOS command line. There are a huge number of flags for running containers, but this is an easy way to directly gain access to the CentOS command line.</p><p>Here is the <a href=https://docs.docker.com/engine/reference/run/>docker reference</a> for flags and running an image.</p><h3 id=5-install-dev-dependencies>5. Install dev dependencies<a hidden class=anchor aria-hidden=true href=#5-install-dev-dependencies>#</a></h3><p>Because this CentOS image is a bare bone, fresh start, linux distro with nothing on it, you will need to install a few unix dev tools. This can easily be done with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>yum groupinstall <span style=color:#e6db74>&#34;Development tools&#34;</span>
</span></span></code></pre></div><p>To install Vim:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>yum install vim
</span></span></code></pre></div><p>If you find that you&rsquo;re missing some tool, try searching online for the install command (make sure to specify CentOS when googling). It is likely a yum command that you&rsquo;re looking for.</p><h3 id=6-place-files-onto-container>6. Place files onto container<a hidden class=anchor aria-hidden=true href=#6-place-files-onto-container>#</a></h3><h4 id=using-scp>Using SCP<a hidden class=anchor aria-hidden=true href=#using-scp>#</a></h4><p>You can pull down your files from a server with this command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>scp username@access.engr.oregonstate.edu:~/path/to/smallsh.zip /path/to/destination
</span></span></code></pre></div><h4 id=using-docker-cp>Using Docker cp<a hidden class=anchor aria-hidden=true href=#using-docker-cp>#</a></h4><p>If you have files on your local host machine that you want on the docker container, you can use the built in docker cp command on your host machine:</p><pre tabindex=0><code>docker cp path/to/file/testing.txt &lt;container name&gt;:/path/to/destination
</code></pre><p>This might look something like this:</p><pre tabindex=0><code>docker cp path/to/testing.txt wizardly_montalcini:/path/to/target
</code></pre><p><em>Note:</em> the container needs to be running for this to work!</p><p>To find the running container name, use the following command on your host machine:</p><pre tabindex=0><code>docker container ls
</code></pre><p>This will show us something like this. We can find the name on the far right:</p><pre tabindex=0><code>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
4218f505a811        centos              &#34;/bin/bash&#34;         2 minutes ago       Up 2 minutes                            wizardly_montalcini
</code></pre><h3 id=7-work-compile-run>7. Work, Compile, Run<a hidden class=anchor aria-hidden=true href=#7-work-compile-run>#</a></h3><p>Now that you have the container running, installed the development dependencies, and pulled your files, you can proceed normally! Work on your program with vim, compile, and run your executable as you would on OS1.</p><p>Here&rsquo;s an example of me doing this on a CentOS docker container</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>[</span>root@f30ebeebacde /<span style=color:#f92672>]</span><span style=color:#75715e># make</span>
</span></span><span style=display:flex><span>gcc -Wall -c smallsh.c buffer_io.c utility.c
</span></span><span style=display:flex><span>gcc -Wall -o smallsh smallsh.o buffer_io.o utility.o
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>root@f30ebeebacde /<span style=color:#f92672>]</span><span style=color:#75715e># ./smallsh</span>
</span></span><span style=display:flex><span>:ls
</span></span><span style=display:flex><span>README.md      buffer_io.c  etc   lib64         media  proc  sbin       smallsh.c  srv  usr        var
</span></span><span style=display:flex><span>anaconda-post.log  buffer_io.o  home  makefile          mnt    root  shelltest  smallsh.h  sys  utility.c
</span></span><span style=display:flex><span>bin        dev      lib   mcbridej_smallsh.zip  opt    run   smallsh    smallsh.o  tmp  utility.o
</span></span><span style=display:flex><span>:cat README.md
</span></span><span style=display:flex><span><span style=color:#75715e># Smallsh</span>
</span></span><span style=display:flex><span>Author: John McBride
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h3 id=8-get-files-off-container>8. Get files off container<a hidden class=anchor aria-hidden=true href=#8-get-files-off-container>#</a></h3><p>Once you are ready to get your files back, you can use SCP or the built in docker cp command. These are similar to putting your files onto the container, but with the paths switched.</p><h4 id=using-scp-1>Using SCP<a hidden class=anchor aria-hidden=true href=#using-scp-1>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>scp /path/to/file.txt username@access.engr.oregonstate.edu:~/path/to/target
</span></span></code></pre></div><h4 id=using-docker-cp-1>Using docker cp<a hidden class=anchor aria-hidden=true href=#using-docker-cp-1>#</a></h4><p>On your local host:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker cp &lt;containerId&gt;:/file/path/within/container  /host/path/destination
</span></span></code></pre></div><h3 id=9-using-docker-volumes>9. Using Docker volumes<a hidden class=anchor aria-hidden=true href=#9-using-docker-volumes>#</a></h3><p>There is a better way to get files on and off your container, but it&rsquo;s slightly more complicated. In this example, let&rsquo;s mount a file system <em>volume</em>. You can <a href=https://docs.docker.com/storage/volumes/>read all about volumes</a> and how they are defined by docker. But the quick and dirty way to get files on to a container from your host when you start docker is as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ docker run -it -v <span style=color:#e6db74>&#34;/host/user/folder/to/mount:/container/destination&#34;</span> centos 
</span></span></code></pre></div><p>Note the new <code>-v</code> flag followed by a full file path mapping. Let&rsquo;s break it down. The <code>-v</code> command tells docker to mount a volume. The first part of the path preceding the <code>:</code> defines the source directory in the host&rsquo;s filesystem to mount. The path after the <code>:</code> defines the destination inside the container to mount the directory!</p><p>Now, when you poke around the container, the files from the source folder will be in the destination folder. The really cool thing about this is that files are persisted across volumes. Or in other words, if you change a file that&rsquo;s been mounted by a volume, it will also be changed on host! This eliminates the need for copy files and folders to and from the container!</p><p><em>Much thanks to <a href=https://github.com/nathanperkins>Nathan</a> for pointing out this tidbit!</em></p><h3 id=10-exiting-the-container>10. Exiting the container<a hidden class=anchor aria-hidden=true href=#10-exiting-the-container>#</a></h3><p>You can exit and stop a container in interactive mode with <code>Ctrl d</code></p><p>You can detach from a container when in interactive mode with <code>Ctrl p</code> <code>Ctrl q</code>. To re-attach to the container, use the <code>docker attach</code> command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker attach &lt;container name&gt;
</span></span></code></pre></div><p>This would be something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker attach wizardly_montalcini
</span></span></code></pre></div><p>If you need to kill a container, you can use the <code>docker kill</code> command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker kill &lt;container name&gt;
</span></span></code></pre></div><p>Using our example, this would look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker kill wizardly_montalcini
</span></span></code></pre></div><p>Warning! Containers are NOT persistent. Again, they are <em><em>NOT persistent.</em></em> Once one is stopped or killed, you will loose everything on it. If you want to keep a container running, just detach from it or make sure to <code>SCP</code> or <code>docker cp</code> your files off the container before you kill it.</p><p>If you stop a docker container you can bring it back up with the <code>docker run -i -t centos</code> command.</p><h2 id=extras>Extras!<a hidden class=anchor aria-hidden=true href=#extras>#</a></h2><p>This section will serve as some docker extras.</p><h3 id=centos-docker-hub>CentOS Docker Hub<a hidden class=anchor aria-hidden=true href=#centos-docker-hub>#</a></h3><p>The official <a href=https://hub.docker.com/_/centos/>CentOS Docker image</a> from docker hub - This has some interesting tid-bits about security dependencies and installing updates.</p><h3 id=dockerfiles>Dockerfiles<a hidden class=anchor aria-hidden=true href=#dockerfiles>#</a></h3><p>Starting the container and installing the dev dependencies every single time you start it can be kind of annoying. Thankfully, you can use dockerfiles to automate building containers. Here is a sample dockerfile that will build the centos container and install the dev dependencies for us.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>CMD</span> yum groupinstall <span style=color:#e6db74>&#34;Development tools&#34;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>These can get really complicated. <a href=https://www.digitalocean.com/community/tutorials/docker-explained-using-dockerfiles-to-automate-building-of-images>Here is some very useful info</a> on how dockerfiles work, how to use them, and how you can make one that fits your needs.</p><p><a href=https://github.com/CentOS/CentOS-Dockerfiles>Here is the official</a> CentOS dockerfile repository on github.</p></div><footer class=post-footer>
</footer></article></main><footer class=footer>
<span>&copy; 2022 <a href=johncodes.dev/>John McBride üë®‚Äçüíª</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script>
<script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script>
</body></html>